@inherits LayoutComponentBase

<MudThemeProvider />
<MudDialogProvider />
<MudSnackbarProvider />

<MudLayout>

    <!-- AppBar -->
    <MudAppBar Elevation="1" Color="Color.Primary">
        <MudIconButton Icon="@Icons.Material.Filled.Menu"
                       Color="Color.Inherit"
                       Edge="Edge.Start"
                       OnClick="ToggleDrawer" />
        <MudText Typo="Typo.h6">Journal Application</MudText>
    </MudAppBar>

    <!-- Sidebar / Drawer -->
    <MudDrawer @bind-Open="_drawerOpen"
               Variant="DrawerVariant.Persistent"
               Elevation="1">
        <MudDrawerHeader>
            <MudText Typo="Typo.h6">Menu</MudText>
        </MudDrawerHeader>

        <MudNavMenu>
            @foreach (var item in MenuItems)
            {
                <MudNavLink Href="@item.Route"
                            Icon="@item.Icon"
                            Match="NavLinkMatch.All">
                    @item.Title
                </MudNavLink>
            }
        </MudNavMenu>
    </MudDrawer>

    <!-- Main Content -->
    <MudMainContent Class="pa-4">
        @Body
    </MudMainContent>

</MudLayout>

@code {
    private bool _drawerOpen = true;

    void ToggleDrawer()
    {
        _drawerOpen = !_drawerOpen;
    }

    private List<MenuItem> MenuItems = new()
    {
        new MenuItem("Dashboard", "/", Icons.Material.Filled.Dashboard),
        new MenuItem("Journals", "/journals", Icons.Material.Filled.Book),
        new MenuItem("Calendar", "/calendar", Icons.Material.Filled.CalendarMonth),
        new MenuItem("Settings", "/settings", Icons.Material.Filled.Settings)
    };

    public record MenuItem(string Title, string Route, string Icon);
}
